# 🚀 최고 성능 모드 상세 설정

## 📊 성능 사양

### 청크 처리
- **청크 크기**: 3000자
- **청크 중복**: 600자 (20% 오버랩)
- **예상 청크 수**: 약 250-300개 (128페이지 기준)

### 검색 성능
- **검색 알고리즘**: MMR (Maximal Marginal Relevance)
- **검색 결과**: 20개 문서
- **후보 문서 풀**: 50개
- **관련성 가중치**: 0.8 (80% 관련성, 20% 다양성)

### 처리 시간
- **초기 PDF 업로드**: 1-2분
- **벡터화 및 임베딩**: 자동 처리
- **질문 응답**: 3-5초

## 🎯 최적화 전략

### 1. 대용량 청크
- 3000자 청크로 표 전체를 하나의 청크에 포함
- 문맥이 끊기지 않아 정확도 향상

### 2. 높은 오버랩
- 600자 중복으로 정보 손실 최소화
- 청크 경계에 걸친 정보도 완벽 보존

### 3. 대규모 검색
- 20개 문서 검색으로 관련 정보 최대 수집
- 50개 후보 중 최적 선택으로 품질 보장

### 4. MMR 알고리즘
- 유사한 내용 중복 방지
- 다양한 관점의 정보 수집

## 📈 성능 비교

| 설정 | 기본 모드 | 표준 모드 | 최고 성능 모드 |
|------|----------|----------|---------------|
| 청크 크기 | 1000자 | 1500자 | **3000자** |
| 청크 중복 | 50자 | 300자 | **600자** |
| 검색 결과 | 4개 | 10개 | **20개** |
| 후보 문서 | 4개 | 20개 | **50개** |
| 정확도 | ⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 속도 | 빠름 | 보통 | 느림 |

## 🔍 예상 효과

### 정확도 향상
- ✅ 표 데이터 완벽 보존
- ✅ 문맥 끊김 없음
- ✅ 정보 누락 최소화
- ✅ 다양한 관점 제공

### 답변 품질
- ✅ 상세하고 구체적인 답변
- ✅ 숫자와 날짜 정확성
- ✅ 조건과 예외사항 포함
- ✅ 비교 분석 가능

### 처리 용량
- ✅ 128페이지 완벽 처리
- ✅ 복잡한 표 구조 인식
- ✅ 대용량 문서 대응
- ✅ 메모리 효율적 관리

## ⚡ 시스템 요구사항

### 권장 사양
- **메모리**: 8GB 이상
- **디스크 공간**: 1GB 이상 (캐시용)
- **네트워크**: 안정적인 인터넷 연결

### API 사용량
- **임베딩 호출**: 약 250-300회 (PDF당 1회만)
- **검색 호출**: 질문당 1회
- **LLM 호출**: 질문당 1회

## 🎓 입시 컨설팅 특화

### 모집요강 분석
- ✅ 전형별 세부 정보
- ✅ 학과별 모집 인원
- ✅ 지원 자격 조건
- ✅ 제출 서류 목록
- ✅ 전형 일정 및 방법

### 표 데이터 처리
- ✅ 모집단위별 표
- ✅ 전형별 반영비율
- ✅ 수능 최저학력기준
- ✅ 학과별 경쟁률 (있는 경우)

## 💾 캐싱 전략

### 자동 캐싱
- PDF 업로드 시 자동으로 `.cache/` 폴더에 저장
- 동일 파일 재업로드 시 캐시 사용 (즉시 처리)
- 임베딩 결과 영구 저장

### 캐시 관리
```bash
# 캐시 초기화 (필요시)
rm -rf .cache/files/*
rm -rf .cache/embeddings/*
```

## 🔧 트러블슈팅

### 느린 업로드
- 정상: 128페이지는 1-2분 소요
- 최초 1회만 처리
- 이후 질문은 빠르게 응답

### 메모리 부족
- 청크 크기 감소: 3000 → 2000
- 검색 결과 감소: 20 → 15

### 답변 품질 저하
- 청크 중복 증가: 600 → 800
- 후보 문서 증가: 50 → 70

## 📚 참고 자료

- [LangChain Text Splitters](https://python.langchain.com/docs/modules/data_connection/document_transformers/)
- [FAISS Documentation](https://github.com/facebookresearch/faiss)
- [Google Gemini API](https://ai.google.dev/tutorials/python_quickstart)

